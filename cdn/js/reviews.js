(()=>{'use strict';(()=>{var e='https://echo-brain.com/api/b4c5b5636170406fb08638178aee75e3/widgets/',t='https://echo-brain.com/api/b4c5b5636170406fb08638178aee75e3/reviews/',n='https://echo-brain.com/api/b4c5b5636170406fb08638178aee75e3/questions/',r='https://echo-brain.com/api/b4c5b5636170406fb08638178aee75e3/helpful/',i='loading',o='hidden',a='active',s='visible',c='disabled',l='no-scroll';var u=function(t,n){return fetch(''.concat(e,'?i=').concat(t)).then(function(e){return e.json()}).then(function(e){return n(e)})},d=function(e,t){return fetch(''.concat(e.origin).concat(e.pathname,'.js')).then(function(e){return e.json()}).then(function(e){return t(e)})},h=function(e){var t,n,r=e.classList.contains(s);e.classList.toggle(s),e.dispatchEvent(new CustomEvent('visibilityToggled',{detail:{visible:!r}})),t=!e.classList.contains(s),n=document.querySelector('body'),!1!==t||n.classList.contains(l)?n.classList.remove(l):n.classList.add(l)},v=function(e,t){!function(e,t){e.forEach(function(e){e.addEventListener('click',function(e){e.preventDefault(),t()})})}(e,function(){h(t)})},m=function(e,t,n,r){var i=e.querySelector('[data-template="review"]').content.cloneNode(!0);i.querySelectorAll('[data-review="stars"] span').forEach(function(e,t){t<r.rating&&e.classList.add(a)});var o=i.querySelector('[data-review="date"]'),s=new Date(r.created_at);o.textContent=s.toLocaleDateString('en-GB',{day:'numeric',month:'short',year:'numeric'});var c=i.querySelector('[data-review="picture"]');i.querySelector('[data-review="name"]').textContent=r.name;var l=r.name[0],u=l?'#'+l.charCodeAt(0).toString(16).padStart(2,'0')+'69':'#000000';if(c.style.backgroundColor=u||'#000000',c.textContent=l.toUpperCase(),!r.verified){var d=i.querySelector('[data-review="verified"]');d&&d.remove()}
i.querySelector('[data-review="comment"]').textContent=r.comment;var h=i.querySelector('[data-review="purchase"]');h&&h.remove();var v=i.querySelector('[data-reaction="helpful"]');v&&v.remove();var m=i.querySelector('[data-review="answer"]');m&&m.remove();var f=i.querySelector('[data-review="media"]');f&&f.remove()
var y=e.querySelector('[data-modal="content"]');Array.from(y.classList).filter(function(e){return e.includes('--')}).forEach(function(e){return y.classList.remove(e)}),y.classList.add('modal__inner--media');var w=e.querySelector('[data-template="modal-media"]').content.cloneNode(!0),g=w.querySelector('[data-modal="review"]');g.innerHTML='',g.appendChild(i);var q=w.querySelector('[data-modal="object"]'),S=w.querySelector('[data-modal="background"]'),L=e.querySelector('[data-template="video"]'),b=e.querySelector('[data-template="iframe"]');if(S.style.backgroundImage='url(\'https://cdn.echo-brain.com/api/media/'.concat(t,'?width=140\')'),q.innerHTML='','video'===n){var C=L.content.cloneNode(!0),E=C.querySelector('video');E.poster='https://cdn.echo-brain.com/api/media/'.concat(t,'?width=140'),E.src='https://cdn.echo-brain.com/api/media/'.concat(t),q.appendChild(C)}else if('image'===n){var B=document.createElement('img');B.src='https://cdn.echo-brain.com/api/media/'.concat(t,'?width=1200&height=1200'),q.appendChild(B)}else if('youtube'===n){var k=b.content.cloneNode(!0);k.querySelector('iframe').src='https://cdn.echo-brain.com/api/media/'.concat(t,'?autoplay=1&mute=1&controls=0&playsinline=1'),q.appendChild(k)}else console.error('Unsupported media type:',n);y.innerHTML='',y.appendChild(w)},f=function(e,t){var n=e.querySelector('[data-template="review"]').content.cloneNode(!0);n.querySelectorAll('[data-review="stars"] span').forEach(function(e,n){n<t.rating&&e.classList.add(a)});var r=n.querySelector('[data-review="date"]'),i=new Date(t.created_at);r.textContent=i.toLocaleDateString('en-GB',{day:'numeric',month:'short',year:'numeric'});var o=n.querySelector('[data-review="picture"]');n.querySelector('[data-review="name"]').textContent=t.name;var s=t.name[0],c=s?'#'+s.charCodeAt(0).toString(16).padStart(2,'0')+'69':'#000000';if(o.style.backgroundColor=c||'#000000',o.textContent=s.toUpperCase(),!t.verified){var l=n.querySelector('[data-review="verified"]');l&&l.remove()}
n.querySelector('[data-review="comment"]').textContent=t.comment;var u=n.querySelector('[data-review="purchase"]');u&&u.remove();var d=n.querySelector('[data-reaction="helpful"]');d&&d.remove();n.querySelector('[data-review="answer"]');if(t.reply){var h=n.querySelector('[data-review="shop"]'),v=n.querySelector('[data-review="reply"]');h.textContent='Philip DeFranco',v.textContent=t.reply}else{var m=n.querySelector('[data-review="answer"]');m&&m.remove()}var f=n.querySelector('[data-review="media"]');f&&f.remove()
var y=e.querySelector('[data-modal="content"]');Array.from(y.classList).filter(function(e){return e.includes('--')}).forEach(function(e){return y.classList.remove(e)}),y.classList.add('modal__inner--review');var w=e.querySelector('[data-template="modal-review"]').content.cloneNode(!0),g=w.querySelector('[data-modal="review"]');g.innerHTML='',g.appendChild(n),y.innerHTML='',y.appendChild(w)};function p(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if('undefined'!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e['@@iterator'])return Array.from(e)}(e)||function(e,t){if(e){if('string'==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return'Object'===n&&e.constructor&&(n=e.constructor.name),'Map'===n||'Set'===n?Array.from(e):'Arguments'===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e)||function(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}
function w(e){return w='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},w(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(e,q(r.key),r)}}function q(e){var t=function(e,t){if('object'!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||'default');if('object'!=w(r))return r;throw new TypeError('@@toPrimitive must return a primitive value.')}return('string'===t?String:Number)(e)}(e,'string');return'symbol'==w(t)?t:t+''}var S=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}(this,e),this.shadow=t,this.input=t.querySelector('[data-file-upload="input"]'),this.template=t.querySelector('[data-template="file-upload"]'),this.preview=t.querySelector('[data-file-upload="preview"]'),this.dt=new DataTransfer,this.init()},t=[{key:'init',value:function(){var e=this;this.input.addEventListener('change',function(t){return e.addFiles(t)}),this.preview.addEventListener('click',function(t){return e.removeFile(t)})}},{key:'addFiles',value:function(e){var t=this,n=e.target.files;Array.from(n).forEach(function(e){t.dt.items.add(e);var n=t.template.content.cloneNode(!0),r=n.querySelector('[data-file-upload="image"]');if(n.querySelector('[data-file-upload="remove"]').dataset.index=t.dt.items.length-1,e.type.startsWith('video/')){var i=document.createElement('video');i.preload='metadata',i.muted=!0,i.src=URL.createObjectURL(e),i.onloadedmetadata=function(){i.currentTime=i.duration/2},i.onseeked=function(){var e=document.createElement('canvas');e.width=i.videoWidth,e.height=i.videoHeight,e.getContext('2d').drawImage(i,0,0),r.src=e.toDataURL(),URL.revokeObjectURL(i.src)}}else{var o=new FileReader;o.onload=function(e){return r.src=e.target.result},o.readAsDataURL(e)}t.preview.append(n)}),this.input.files=this.dt.files}},{key:'removeFile',value:function(e){var t=e.target.closest('[data-file-upload="remove"]');if(t){var n=+t.dataset.index;this.dt.items.remove(n),this.input.files=this.dt.files,t.closest('[data-file-upload="item"]').remove(),Array.from(this.preview.children).forEach(function(e,t){e.querySelector('[data-file-upload="remove"]').dataset.index=t})}}}],t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,'prototype',{writable:!1}),e;var e,t,n}(),L=function(e,n,r,i){return fetch(''.concat(t,'?t=').concat(e,'&i=').concat(n,'&p=').concat(r),{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(e){return e.json()}).then(function(e){return i(e)})},b=function(e,n){return fetch(t,{method:'POST',body:e}).then(function(e){return e.json()}).then(function(e){return n(e)})},C=function(e,t){return fetch(''.concat(r),{method:'POST',body:e}).then(function(e){return e.json()}).then(function(e){return t(e)})},E=function(e,t,r,i){return fetch(''.concat(n,'?t=').concat(e,'&i=').concat(t,'&p=').concat(r),{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(e){return e.json()}).then(function(e){return i(e)}).catch(function(e){console.error('Error fetching questions:',e)})},B=function(e,t){return fetch(n,{method:'POST',body:e}).then(function(e){return e.json()}).then(function(e){return t(e)}).catch(function(e){console.error('Error fetching question:',e)})};function k(e){return k='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},k(e)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:'undefined'!=typeof Symbol&&e[Symbol.iterator]||e['@@iterator'];if(null!=n){var r,i,o,a,s=[],c=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(e,t)||function(e,t){if(e){if('string'==typeof e)return T(e,t);var n={}.toString.call(e).slice(8,-1);return'Object'===n&&e.constructor&&(n=e.constructor.name),'Map'===n||'Set'===n?Array.from(e):'Arguments'===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e,t)||function(){throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function _(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,'prototype',{writable:!1}),e}function A(e){var t=function(e,t){if('object'!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||'default');if('object'!=k(r))return r;throw new TypeError('@@toPrimitive must return a primitive value.')}return('string'===t?String:Number)(e)}
(e,'string');return'symbol'==k(t)?t:t+''}var j=function(){return _(function e(t,n){I(this,e),this.shadow=t,this.config=n,this.starContainer=this.shadow.querySelector('[data-star="container"]'),this.bindEvents()},[{key:'bindEvents',value:function(){var e=this;this.starContainer.addEventListener('click',function(){var t=document.querySelector('[data-type="general_review_widget"]')||document.querySelector('[data-type="review_widget"]');t?t.scrollIntoView({behavior:'smooth',block:'start'}):e.starContainer.style.cursor='default'})}}])}(),U=function(){return _(function e(t,n,r,i){I(this,e),this.shadow=t,this.widget=n,this.config=r,this.product_id=i,this.formElement=this.shadow.querySelector('[data-form="container"]'),this.reviewFormContainer=this.shadow.querySelector('[data-form="review"]'),this.questionFormContainer=this.shadow.querySelector('[data-form="question"]'),this.reviewForm=this.reviewFormContainer.querySelector('form'),this.questionForm=this.questionFormContainer.querySelector('form'),this.reviewsContent=this.shadow.querySelector('[data-content="reviews"]'),this.questionsContent=this.shadow.querySelector('[data-content="questions"]'),this.reviewPaginator=this.shadow.querySelector('[data-paginator="reviews"]'),this.questionPaginator=this.shadow.querySelector('[data-paginator="questions"]'),this.reviewsButton=this.shadow.querySelector('[data-tools="reviews"]'),this.questionsButton=this.shadow.querySelector('[data-tools="questions"]'),this.closeButtons=this.shadow.querySelectorAll('[data-tools="close"]'),this.closeButton=this.closeButtons[0],this.reviewButton=this.shadow.querySelector('[data-tools="review"]'),this.questionButton=this.shadow.querySelector('[data-tools="question"]'),this.reviewTemplate=this.shadow.querySelector('[data-template="review"]'),this.questionTemplate=this.shadow.querySelector('[data-template="question"]'),this.reviewsItems=this.reviewsContent.querySelector('[data-content="items"]'),this.questionsItems=this.questionsContent.querySelector('[data-content="items"]'),this.iconVideoTemplate=this.shadow.querySelector('[data-template="icon-video"]'),this.iconYoutubeTemplate=this.shadow.querySelector('[data-template="icon-youtube"]'),this.mainModal=this.shadow.querySelector('[data-modal="main"]'),this.mainModalTriggers=this.shadow.querySelectorAll('[data-modal-trigger="main"]'),this.galleryElements=this.shadow.querySelectorAll('[data-gallery="container"]'),this.purchaseTemplate=this.shadow.querySelector('[data-template="purchase"]'),this.bindEvents(),'review_widget'===this.widget&&this.product_id&&'all'!=this.product_id?(this.setProductId(this.product_id),this.fetchReviews(this.product_id,1),this.fetchQuestions(this.product_id,1)):'general_review_widget'===this.widget&&(this.fetchReviews('all',1),this.fetchQuestions('all',1))},[{key:'setProductId',value:function(e){this.reviewFormContainer.querySelector('input[name="identifier"]').value=e,this.questionFormContainer.querySelector('input[name="identifier"]').value=e}},{key:'fetchReviews',value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;L(this.widget,e,n,function(r){t.renderReviews(e,r,n)})}},{key:'renderReviews',value:function(e,t,n){var r=this;if(t&&t.results&&0!==t.results.length){1==n&&(this.reviewsItems.innerHTML=''),t.results.forEach(function(e,t){var n=r.reviewTemplate.content.cloneNode(!0);n.querySelectorAll('[data-review="stars"] span').forEach(function(t,n){n<e.rating&&t.classList.add(a)});var i=n.querySelector('[data-review="date"]'),s=new Date(e.created_at);i.textContent=s.toLocaleDateString('en-GB',{day:'numeric',month:'short',year:'numeric'});var c=n.querySelector('[data-review="picture"]'),l=n.querySelector('[data-review="name"]'),u=e.name.trim().split(/\s+/);l.textContent=u[0]+(u.length>1?' '+u.slice(1).map(function(e){return e[0].toUpperCase()+'.'}).join(' '):'');var d=e.name[0],h=d?'#'+d.charCodeAt(0).toString(16).padStart(2,'0')+'69':'#000000';if(c.style.backgroundColor=h||'#000000',c.textContent=d.toUpperCase(),!e.verified){var p=n.querySelector('[data-review="verified"]');p&&p.remove()}
var y=n.querySelector('[data-review="comment"]');y.textContent=e.comment;var w=document.createElement('button');w.classList.add('button','button--primary','button--xxsmall'),w.textContent='Read more',w.addEventListener('click',function(){return f(r.shadow,e)}),v([w],r.mainModal);var g='slider'===r.config.design?120:220;if(e.comment.length>g&&(y.textContent=e.comment.slice(0,g)+'...',y.appendChild(w)),e.reply){var q=n.querySelector('[data-review="shop"]'),S=n.querySelector('[data-review="reply"]');q.textContent='Philip DeFranco',S.textContent=e.reply;var L=document.createElement('button');L.classList.add('button','button--primary','button--xxsmall'),L.textContent='Read more',L.addEventListener('click',function(){return f(r.shadow,e)}),v([L],r.mainModal);var b='slider'===r.config.design?110:210;e.reply.length>b&&(S.textContent=e.reply.slice(0,b)+'...',S.appendChild(L))}else{var E=n.querySelector('[data-review="answer"]');E&&E.remove()}
var B=n.querySelector('[data-review="media"]');e.images&&e.images.length?e.images.forEach(function(t,n){var i='image',o=document.createElement('li'),a=t.split('.').pop().toLowerCase();['mp4','webm','mov'].includes(a)?(o.appendChild(r.iconVideoTemplate.content.cloneNode(!0)),i='video'):/youtube\.com|youtu\.be/.test(t)&&(o.appendChild(r.iconYoutubeTemplate.content.cloneNode(!0)),i='youtube');var s=document.createElement('img');s.src='https://cdn.echo-brain.com/api/media/'.concat(t,'?width=140'),s.alt='Review Image '.concat(n+1),o.appendChild(s),o.addEventListener('click',function(){return m(r.shadow,t,i,e)}),B.appendChild(o),r.galleryElements.forEach(function(n){if(n.querySelectorAll('li').length<r.config.gallery_limit){var a=o.cloneNode(!0);a.addEventListener('click',function(){return m(r.shadow,t,i,e)}),n.appendChild(a),v([a,o],r.mainModal)}else v([o],r.mainModal)})}):B.remove();var k=n.querySelector('[data-review="like"]'),T=n.querySelector('[data-review="helpful-message"]'),I=n.querySelector('[data-review="helpful"]');k.addEventListener('click',function(){var t=new FormData;t.append('id',e.id),C(t,function(e){if(e.error)console.warn('Error liking review:',e.error);else if(I){var t=parseInt(I.textContent)||0;I.textContent=''.concat(t+1,' person found this review helpful'),T.classList.remove(o),k.classList.add(o)}})}),e.likes?I.textContent=''.concat(e.likes,' person found this review helpful'):I.remove();var R=n.querySelector('[data-review="purchase"]');if(e.product&&e.product.title){if('general_review_widget'===r.widget){var _=r.purchaseTemplate.content.cloneNode(!0),A=_.querySelector('[data-purchase="title"]'),j=_.querySelector('[data-purchase="link"]');A.textContent=e.product.title,j.href=e.product.url,j.title=e.product.title,R.appendChild(_)}if(e.product.attributes)for(var U=0,F=Object.entries(e.product.attributes);U<F.length;U++){var M=x(F[U],2),D=M[0],N=M[1];if('description'!==D&&N){var P=r.purchaseTemplate.content.cloneNode(!0);P.querySelector('svg').remove();var O=P.querySelector('[data-purchase="title"]'),H=P.querySelector('[data-purchase="link"]');O.textContent=''.concat(D.charAt(0).toUpperCase()+D.slice(1),': ').concat(N.name),H.href=e.product.url,H.title=e.product.title,R.appendChild(P)}}}else R.remove();r.reviewsItems.appendChild(n)}),this.togglePaginator(this.reviewPaginator,t,e,'reviews')}}},{key:'fetchQuestions',value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;E(this.widget,e,n,function(r){t.renderQuestions(e,r,n)})}},{key:'renderQuestions',value:function(e,t,n){var r=this;if(t&&t.results&&0!==t.results.length){1==n&&(this.questionsItems.innerHTML=''),t.results.forEach(function(e,t){var n=r.questionTemplate.content.cloneNode(!0),i=n.querySelector('[data-question="picture"]'),o=n.querySelector('[data-question="name"]'),a=e.name.trim().split(/\s+/);o.textContent=a[0]+(a.length>1?' '+a.slice(1).map(function(e){return e[0].toUpperCase()+'.'}).join(' '):'');var s=e.name[0],c=s?'#'+s.charCodeAt(0).toString(16).padStart(2,'0')+'69':'#000000';i.style.backgroundColor=c||'#000000',i.textContent=s.toUpperCase();var l=n.querySelector('[data-question="date"]'),u=new Date(e.created_at);if(l.textContent=u.toLocaleDateString('en-GB',{day:'numeric',month:'short',year:'numeric'}),n.querySelector('[data-question="content"]').textContent=e.comment,e.reply){var d=n.querySelector('[data-question="shop"]'),h=n.querySelector('[data-question="reply"]');d.textContent='Philip DeFranco',h.textContent=e.reply}else{var v=n.querySelector('[data-question="answer"]');v&&v.remove()}r.questionsItems.appendChild(n)}),this.togglePaginator(this.questionPaginator,t,e,'questions')}}},{key:'togglePaginator',value:function(e,t,n,r){var a=this;e.classList.remove(i),e.removeAttribute(c);var s=t.current_page+1;s<=t.num_pages?(e.classList.remove(o),e.onclick=function(){e.classList.add(i),e.setAttribute(c,''),'questions'===r?a.fetchQuestions(n,s):'reviews'===r&&a.fetchReviews(n,s)}):(e.classList.add(o),e.onclick=null)}},{key:'bindEvents',value:function(){var e,t=this;this.reviewsButton.addEventListener('click',function(){return t.handleTabSwitch(t.reviewsButton)}),this.questionsButton.addEventListener('click',function(){return t.handleTabSwitch(t.questionsButton)}),this.reviewButton.addEventListener('click',function(){return t.handleFormToggle(t.reviewButton)}),this.questionButton.addEventListener('click',function(){return t.handleFormToggle(t.questionButton)}),this.closeButtons.forEach(function(e){e.addEventListener('click',function(){return t.handleClose()})}),v(this.mainModalTriggers,this.mainModal),function(e){var t=e.querySelector('[data-star="container"]'),n=p(t.querySelectorAll('span')),r=e.querySelector('[data-star="rating"]'),i=0,o=function(e){n.forEach(function(t,n){return t.classList.toggle(a,n<e)})};o(0),n.forEach(function(e,t){e.addEventListener('mouseover',function(){return o(t+1)}),e.addEventListener('click',function(){i=i===t+1?0:t+1,r.value=i||'',o(i)})}),t.addEventListener('mouseout',function(){return o(i)})}(this.shadow),e=this.shadow,new S(e),this.reviewForm.addEventListener('submit',function(e){e.preventDefault();var n=new FormData(t.reviewForm);b(n,function(e){e.error?console.warn('Error submitting review:',e.error):t.reviewFormContainer.innerHTML=e.success})}),this.questionForm.addEventListener('submit',function(e){e.preventDefault();var n=new FormData(t.questionForm);B(n,function(e){e.error?console.warn('Error sending question:',e.error):t.questionFormContainer.innerHTML=e.success})}),this.mainModal.addEventListener('visibilityToggled',function(e){e.detail.visible||(t.shadow.querySelector('[data-modal="content"]').innerHTML='')})}},{key:'handleTabSwitch',value:function(e){e.classList.contains(a)||(this.reviewsButton.classList.toggle(a),this.questionsButton.classList.toggle(a),this.reviewsContent.classList.toggle(o),this.questionsContent.classList.toggle(o),this.closeButton.classList.contains(o)&&(this.reviewButton.classList.toggle(o),this.questionButton.classList.toggle(o)),this.reviewFormContainer.classList.toggle(o),this.questionFormContainer.classList.toggle(o))}},{key:'handleFormToggle',value:function(e){e.classList.toggle(o),this.closeButton.classList.toggle(o),this.formElement.classList.toggle(o),this.reviewFormContainer.classList.toggle(o)}},{key:'handleClose',value:function(){this.reviewsButton.classList.contains(a)&&this.reviewButton.classList.toggle(o),this.questionsButton.classList.contains(a)&&this.questionButton.classList.toggle(o),this.closeButton.classList.toggle(o),this.formElement.classList.toggle(o),this.reviewFormContainer.classList.toggle(o)}}])}();console.log();var F=function(){var e,t,n=document.createElement('link');n.rel='stylesheet',n.href='https://echo-brain.com/b4c5b5636170406fb08638178aee75e3/css-variables.css?service=fourthwall',document.head.prepend(n),e=function(e){e&&e.id||(e={id:'all'}),u(e.id,function(t){!function(e,t,n,r,i,o,a){if(r){var s=document.querySelector(t);if(s){var c=document.createElement('template');c.innerHTML=r.trim();var l=c.content;if(l){var u=l.querySelector('.echobrain');if(u){var d=u.attachShadow({mode:'open'}),h=document.createElement('style');h.textContent=i,d.appendChild(h),d.innerHTML+=u.innerHTML,u.innerHTML='',s.parentNode.insertBefore(l,'before'===n?s:s.nextSibling),'star_widget'===o&&(new j(d,a,e),console.log())}}}}}(e.id,'#fw-section-product .product .product-info__title','',t['star_widget'],t.styles,'star_widget',JSON.parse('{"data_source": "individual", "summary_type": "average_quantity"}'));!function(e,t,n,r,i,o,a){if(r){var s=document.querySelector(t);if(s){var c=document.createElement('template');c.innerHTML=r.trim();var l=c.content;if(l){var u=l.querySelector('.echobrain');if(u){var d=u.attachShadow({mode:'open'}),h=document.createElement('style');h.textContent=i,d.appendChild(h),d.innerHTML+=u.innerHTML,u.innerHTML='',s.parentNode.insertBefore(l,'before'===n?s:s.nextSibling),'review_widget'===o&&(new U(d,o,a,e),console.log())}}}}}(e.id,'#fw-section-product-recommendations','',t['review_widget'],t.styles,'review_widget',JSON.parse('{"show_empty": true, "gallery_limit": 9, "reviews_limit": 10, "infinite_popup": false}'));})},(t=new URL(window.location.href)).pathname.includes('/products/')?d(t,function(t){return e(t)}):e(),function(){var e=new URLSearchParams(window.location.search);if(e.has('edit-mode')&&e.has('widget')){var t=document.createElement('script');t.src='https://echo-brain.com/b4c5b5636170406fb08638178aee75e3/editmode.js',t.async=!0,document.body.appendChild(t)}}()};'loading'===document.readyState?document.addEventListener('DOMContentLoaded',function(){return F()}):F()})()})();